:root{
  --sidebar-w: 260px;   /* actual sidebar width */
  --gutter: 12px;       /* small gap both sides */
  --bg-1: #ebfdf2;
  --bg-2: #dff6e8;
  --hero-green: linear-gradient(90deg,#2fb46a,#1ea055);
  --accent-deep: #1a7f3f;
  --card-bg: #ffffff;
  --card-contrast: #f7fff7;
  --muted: #5a7a68;
  --soft-blue: rgba(225,241,255,0.9);
}
/* =======================
   THEME VARIABLES
   ======================= */

/* Light mode defaults */
:root {
  --bg-1: #ebfdf2;
  --bg-2: #dff6e8;
  --hero-green: linear-gradient(90deg,#2fb46a,#1ea055);

  --accent-deep: #1a7f3f;
  --text-main: #042619;      /* text color */
  --text-muted: #5a7a68;     /* muted text */

  --card-bg: #ffffff;
  --card-contrast: #f7fff7;
  --soft-blue: rgba(225,241,255,0.9);
}

/* Dark mode overrides */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-1: #0e1b14;
    --bg-2: #14241a;
    --hero-green: linear-gradient(90deg,#1ea055,#146c3c);

    --accent-deep: #59f3a0;
    --text-main: #f2fff9;
    --text-muted: #a3b5a8;

    --card-bg: #1a2a22;
    --card-contrast: #223229;
    --soft-blue: rgba(100,140,180,0.2);
  }
}

/* =======================
   COMPONENT STYLES
   ======================= */

body, .dash-container {
  background: var(--bg-1);
  color: var(--text-main);
}

.dash-title,
.dash-welcome,
.stat-value,
.p-value,
.w-temp {
  color: var(--text-main);
}

.stat-label,
.scan-sub,
.w-desc,
.p-name {
  color: var(--text-muted);
}

.card,
.stat-card,
.price-summary {
  background: var(--card-bg);
  color: var(--text-main);
}

.advisory {
  background: var(--soft-blue);
}

/* ---- rest of your CSS (layout, hero, stats, grid, etc) ---- */

/* --------- LAYOUT (no overlap, small gutters) --------- */

/* Outer wrapper: reserve space for the fixed sidebar + gap */
.dash-layout{
  display:block;
  width:100%;
  padding-left: var(--gutter);    /* Equal left and right padding */
  padding-right: 0 !important;
  background: linear-gradient(180deg,#f4fbf6 0%,#eaf7ee 100%);
}

/* Treat the first child as the sidebar; pin it with the left gutter */
.dash-layout > :first-child{
  position:fixed;
  left: var(--gutter);
  top: var(--gutter);
  bottom: var(--gutter);
  width: var(--sidebar-w);
  max-width: var(--sidebar-w);
  z-index: 10;
}

/* Main fills remaining space; tiny internal padding for breathing room */
.dashboard-main{
  margin:0 !important;
  padding-left: var(--gutter) !important;   /* inner padding, still looks full-bleed */
  min-width:0;
  padding-right: 0 !important;
}

/* Keep container full height; no extra side padding */
.dash-container{ min-height:100vh; }

/* Make inner wrappers span full available width */
.dash-card, .dash-header{
  max-width:none;
  width:100%;
  margin:0;
}

/* Nuke any generic paddings some global styles might add */
.page-scroll, .content, .page, .app-content, main{
  padding-left:0;
  padding-right:0;
}

/* --------- HEADER / BUTTONS / HERO --------- */

.dash-title{ margin:0; font-weight:800; color:var(--accent-deep); }
.dash-signout{
  background:transparent; border:0; color:var(--accent-deep);
  padding:8px 12px; border-radius:8px; cursor:pointer;
}

.dash-hero.large-hero{
  background:var(--hero-green);
  border-radius:12px;
  padding:20px;
  color:#fff;
  display:flex;
  align-items:center;
  gap:16px;
  box-shadow:0 8px 20px rgba(34,139,79,0.08);
}
.hero-content-left{ flex:1; }
.dash-welcome{ margin:0 0 4px 0; font-size:1.3rem; font-weight:800; }
.dash-text{ margin:0 0 8px 0; opacity:0.95; }
.hero-actions{ display:flex; gap:10px; }
.btn-cta{
  background:#fff; color:#1b6b3f; border:none; padding:8px 12px;
  border-radius:8px; font-weight:700; cursor:pointer; font-size:0.95rem;
}
.btn-cta.outline{
  background:rgba(255,255,255,0.14); color:#fff; border:1px solid rgba(255,255,255,0.12);
}
.hero-visual{ width:120px; height:64px; border-radius:12px; background:rgba(255,255,255,0.06); }

/* --------- STATS ROW --------- */

.stats-row{ display:flex; gap:12px; margin-top:12px; }
.stat-card{
  background:var(--card-bg); border-radius:10px; padding:14px; flex:1;
  display:flex; flex-direction:column; align-items:center; gap:4px;
  box-shadow:0 6px 12px rgba(0,0,0,0.04);
}
.stat-icon{ font-size:18px; }
.stat-value{ font-weight:800; font-size:1.15rem; }
.stat-label{ color:var(--muted); font-size:.85rem; }

/* --------- ADVISORY --------- */

.advisory{
  margin-top:8px; background:var(--soft-blue); padding:14px 14px;
  border-radius:8px; color:#0b4a6c; box-shadow:0 4px 8px rgba(0,0,0,0.03);
}

/* --------- GRID (Recent Scans + Weather) --------- */

.dash-grid.two-cols{
  display:grid; grid-template-columns:1fr 1fr;
  gap:12px; margin-top:12px;
}
.card{
  background:var(--card-contrast); border-radius:10px; padding:14px;
  box-shadow:0 6px 15px rgba(0,0,0,0.03);
}
.card-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
.link-arrow{ background:transparent; border:0; color:var(--accent-deep); font-weight:700; cursor:pointer; }

/* Recent scans */
.scan-list{ display:flex; flex-direction:column; gap:8px; }
.scan-entry{ display:flex; gap:10px; align-items:center; }
.scan-thumb-image{ width:40px; height:40px; border-radius:6px; object-fit:cover; }
.scan-thumb-placeholder{ width:40px; height:40px; border-radius:6px; background:linear-gradient(180deg,#eef9f0,#e0f6e6); }
.scan-title{ font-weight:700; font-size:0.95rem; }
.warn{ color:#c44; margin-left:8px; font-weight:700; }
.ok{ color:#1ea055; margin-left:8px; font-weight:700; }
.scan-sub{ color:var(--muted); font-size:.85rem; }

/* Weather */
.weather-cards{ display:flex; gap:8px; }
.weather-card{
  background:rgba(255,255,255,0.9); padding:10px; border-radius:8px;
  width:100px; text-align:center;
}
.w-temp{ font-weight:800; font-size:0.95rem; }
.w-desc{ color:var(--muted); font-size:.8rem; }

/* --------- MARKET PRICES --------- */

.market-prices{ margin-top:12px; }
.market-row{ display:flex; gap:10px; }
.price-summary{
  flex:1; background:var(--card-contrast); padding:10px; border-radius:8px;
  display:flex; flex-direction:column; gap:4px;
}
.p-name{ color:var(--muted); font-weight:700; font-size:0.9rem; }
.p-value{ font-weight:800; font-size:1.1rem; }
.p-change.pos{ color:#16a34a; font-weight:700; font-size:0.9rem; }
.p-change.neg{ color:#d44; font-weight:700; font-size:0.9rem; }

.card-chart{
  margin-top:8px; height:200px; border-radius:6px;
  background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(248,255,249,0.98));
}

/* --------- RESPONSIVE --------- */

@media (max-width: 1000px){
  :root{ --sidebar-w: 240px; --gutter: 10px; }
  .dash-layout{
    padding-left: var(--gutter); 
    padding-right: 0 !important;         /* sidebar goes stacked on small screens */
  }
  .dash-layout > :first-child{
    position:static;
    width:100%;
    max-width:none;
    height:auto;
    margin-bottom: var(--gutter);
  }

  .dash-grid.two-cols{ grid-template-columns:1fr; }
  .stats-row{ flex-direction:column; }
  .market-row{ flex-direction:column; }
}
/* --- fix stat tiles getting cut off --- */
.stats-row {
  display: flex;
  gap: 12px;
  margin-top: 12px;
  flex-wrap: wrap;                 /* allow wrapping onto the next line */
}

.stat-card {
  /* allow shrinking but never below a readable width */
  flex: 1 1 240px;                 /* grow:1, shrink:1, basis:240px */
  min-width: 220px;                /* hard floor so content fits */
}

/* --- prevent grid overflow in the two-column section --- */
.dash-grid.two-cols {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));  /* avoid min-content overflow */
  gap: 12px;
  margin-top: 12px;
}

/* --- safety: if some global style hides horizontal overflow on main, undo it --- */
.dashboard-main {
  overflow-x: visible;  /* ensure right edges and shadows show */
}
/* optional: tighter 1-line preference on big screens */
@media (min-width: 1300px) {
  .stat-card { flex-basis: 260px; }
}
/* --- Stats Row: Force 4 columns in one line --- */
.stats-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);  /* exactly 4 equal columns */
  gap: 12px;
  margin-top: 12px;
}

.stat-card {
  min-width: 0;        /* allow shrinking instead of forcing overflow */
  flex: none;          /* disable flex growth/shrink from before */
}
@media (max-width: 1000px) {
  .stats-row {
    grid-template-columns: repeat(2, 1fr);  /* 2 per row */
  }
}
@media (max-width: 600px) {
  .stats-row {
    grid-template-columns: 1fr;             /* stack vertically */
  }
}
/* ---------- hard normalize so nothing pushes width ---------- */
*,
*::before,
*::after { box-sizing: border-box; }
html, body { width: 100%; overflow-x: hidden; }           /* safety */
.dash-layout, .dashboard-main, .dash-container { max-width: 100%; }

/* ---------- small, even gutters (keep what you liked) ---------- */
:root { --sidebar-w: 260px; --gutter: 20px; }

.dash-layout{
  display:block ;
  width:100%;
  padding-left: calc(var(--sidebar-w) + var(--gutter)) !important;
  padding-right: 0 !important;
}

.dash-layout > :first-child{
  position:fixed; left: var(--gutter); top: var(--gutter); bottom: var(--gutter);
  width: var(--sidebar-w); max-width: var(--sidebar-w);
}

/* ---------- STATS ROW: always one line, no clipping ---------- */
.stats-row{
  display: grid !important;
  grid-template-columns: repeat(4, minmax(0, 1fr));  /* 4 equal columns */
  gap: 12px;
  margin-top: 12px;
}
.stat-card{
  min-width: 0;            /* allow to shrink inside the grid */
  padding: 12px;           /* slightly tighter so 4 fit comfortably */
  flex: none !important;   /* disable old flex behavior */
}

/* Responsive fallbacks (optional, but prevents squish on narrow screens) */
@media (max-width: 1200px){
  .stats-row{ grid-template-columns: repeat(4, minmax(0, 1fr)); }
}
@media (max-width: 1000px){
  .stats-row{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 600px){
  .stats-row{ grid-template-columns: 1fr; }
}

/* ---------- Two-column section: no overflow ---------- */
.dash-grid.two-cols{
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));   /* prevents min-content overflow */
  gap: 12px;
}
.card, .dash-card, .dash-header{ max-width: 100%; width: 100%; }

/* ---------- Misc width safeties ---------- */
.hero-visual, .weather-card, .price-summary, .market-chart, .card-chart { max-width: 100%; }
.market-chart, .card-chart { width: 100%; }

/* ---------- If your Sidebar ever becomes non-fixed on small screens ---------- */
@media (max-width: 900px){
  .dash-layout{ padding-left: var(--gutter); padding-right: 0 !important;}
  .dash-layout > :first-child{
    position: static; width: 100%; max-width: none; height: auto; margin-bottom: var(--gutter);
  }
}
/* =========================
   DARK MODE — COLOR ONLY
   (append at end of file)
   ========================= */
@media (prefers-color-scheme: dark) {
  :root {
    /* keep your layout as-is; just flip palette */
    --bg-1: #0e1b14;
    --bg-2: #14241a;
    --hero-green: linear-gradient(90deg,#1ea055,#146c3c);

    --text-main: #f2fff9;   /* bright text */
    --text-muted: #a3b5a8;  /* softer text */

    --card-bg: #1a2a22;       /* card surfaces */
    --card-contrast: #1f3228; /* contrast surface */
    --soft-blue: rgba(120,170,255,0.14);

    --accent-deep: #59f3a0;
  }

  /* Text that must remain high-contrast */
  .dash-title,
  .dash-welcome,
  .stat-value,
  .p-value,
  .w-temp {
    color: var(--text-main) !important;
  }

  /* Muted/secondary text */
  .stat-label,
  .scan-sub,
  .w-desc,
  .p-name {
    color: var(--text-muted) !important;
  }

  /* Card surfaces */
  .card,
  .stat-card,
  .price-summary {
    background: var(--card-bg) !important;
    color: var(--text-main) !important;
  }

  /* Info/advisory bar */
  .advisory {
    background: var(--soft-blue) !important;
    color: var(--text-main) !important;
  }

  /* Buttons in the hero */
  .btn-cta {
    background: var(--card-bg) !important;
    color: var(--accent-deep) !important;
    border-color: transparent !important;
  }
  .btn-cta.outline {
    background: transparent !important;
    color: var(--text-main) !important;
    border: 1px solid rgba(255,255,255,0.18) !important;
  }
}
/* =========================
   DARK MODE FIX — strong contrast for values
   ========================= */
@media (prefers-color-scheme: dark) {
  /* Force bright white for all key numbers/values */
  .stat-value,
  .p-value,
  .w-temp,
  .scan-title,
  .p-change.pos,
  .p-change.neg {
    color: #000000 !important;   /* pure white for maximum contrast */
  }

  /* Labels stay softer but still visible */
  .stat-label,
  .scan-sub,
  .w-desc,
  .p-name {
    color: #6a6e6c !important;   /* light gray-green */
  }

  /* Section headers (Recent Scans, Weather Forecast, Market Prices) */
  .card-header strong,
  .market-prices h3 {
    color: #000000 !important;
  }
}
/* =========================
   FORCE ALL TEXT BLACK
   ========================= */
@media (prefers-color-scheme: dark) {
  body,
  .dash-container,
  .dash-title,
  .dash-welcome,
  .stat-value,
  .p-value,
  .w-temp,
  .stat-label,
  .scan-sub,
  .w-desc,
  .p-name,
  .card,
  .stat-card,
  .price-summary,
  .card-header strong,
  .market-prices h3,
  .scan-title,
  .p-change.pos,
  .p-change.neg,
  .advisory,
  .btn-cta,
  .btn-cta.outline {
    color: #000000 !important;   /* force black text */
  }
}

.dashboard-content-wrapper {
  max-width: 1300px;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1px;
  padding-right: 1px;
  padding-top: 15px;
  /* Optional: add top/bottom padding if you want */
}

@media (max-width: 700px) {
  .dashboard-content-wrapper {
    padding-left: 5px;
    padding-right: 5px;
  }
}

